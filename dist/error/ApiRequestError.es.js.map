{"version":3,"file":"ApiRequestError.es.js","sources":["../../src/error/ApiRequestError.ts"],"sourcesContent":["import type { ApiErrorSource, RequestConfig } from \"@/http/types/http\";\n\nexport class ApiRequestError extends Error {\n  status?: number;\n  statusText?: string;\n  data?: unknown;\n  originalError: unknown;\n  requestConfig: RequestConfig;\n\n  constructor (error: unknown, requestConfig: RequestConfig) {\n    const message = error instanceof Error\n      ? error.message\n      : \"API Service Request Failed\";\n\n    super(message);\n    this.name = \"ApiRequestError\";\n    this.originalError = error;\n    this.requestConfig = requestConfig;\n\n    if (error && typeof error === \"object\") {\n      const errorObj = error as ApiErrorSource;\n\n      if (\"status\" in errorObj) {\n        this.status = errorObj.status;\n      }\n      if (\"statusText\" in errorObj) {\n        this.statusText = errorObj.statusText as string;\n      }\n      if (\"data\" in errorObj) {\n        this.data = errorObj.data;\n      }\n      // Si c'est une erreur de fetch (Response)\n      if (\"response\" in errorObj && errorObj.response instanceof Response) {\n        const response = errorObj.response;\n        this.status = response.status;\n        this.statusText = response.statusText;\n      }\n    }\n\n    // Capturer la stack trace\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ApiRequestError);\n    }\n  }\n\n  // MÃ©thodes utilitaires pour vÃ©rifier le type d'erreur\n  isNotFound(): boolean {\n    return this.status === 404;\n  }\n\n  isUnauthorized(): boolean {\n    return this.status === 401;\n  }\n\n  isForbidden(): boolean {\n    return this.status === 403;\n  }\n\n  isServerError(): boolean {\n    return this.status !== undefined && this.status >= 500 && this.status < 600;\n  }\n\n  isNetworkError(): boolean {\n    return this.status === undefined || this.status === 0;\n  }\n}"],"names":["ApiRequestError","error","requestConfig","message","__publicField","errorObj","response"],"mappings":";;;AAEO,MAAMA,UAAwB,MAAM;AAAA,EAOzC,YAAaC,GAAgBC,GAA8B;AACzD,UAAMC,IAAUF,aAAiB,QAC7BA,EAAM,UACN;AAEJ,UAAME,CAAO;AAXf,IAAAC,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AAQE,aAAK,OAAO,mBACZ,KAAK,gBAAgBH,GACrB,KAAK,gBAAgBC,GAEjBD,KAAS,OAAOA,KAAU,UAAU;AACtC,YAAMI,IAAWJ;AAYjB,UAVI,YAAYI,MACd,KAAK,SAASA,EAAS,SAErB,gBAAgBA,MAClB,KAAK,aAAaA,EAAS,aAEzB,UAAUA,MACZ,KAAK,OAAOA,EAAS,OAGnB,cAAcA,KAAYA,EAAS,oBAAoB,UAAU;AACnE,cAAMC,IAAWD,EAAS;AAC1B,aAAK,SAASC,EAAS,QACvB,KAAK,aAAaA,EAAS;AAAA,MAAA;AAAA,IAC7B;AAIF,IAAI,MAAM,qBACF,MAAA,kBAAkB,MAAMN,CAAe;AAAA,EAC/C;AAAA;AAAA,EAIF,aAAsB;AACpB,WAAO,KAAK,WAAW;AAAA,EAAA;AAAA,EAGzB,iBAA0B;AACxB,WAAO,KAAK,WAAW;AAAA,EAAA;AAAA,EAGzB,cAAuB;AACrB,WAAO,KAAK,WAAW;AAAA,EAAA;AAAA,EAGzB,gBAAyB;AACvB,WAAO,KAAK,WAAW,UAAa,KAAK,UAAU,OAAO,KAAK,SAAS;AAAA,EAAA;AAAA,EAG1E,iBAA0B;AACxB,WAAO,KAAK,WAAW,UAAa,KAAK,WAAW;AAAA,EAAA;AAExD;"}