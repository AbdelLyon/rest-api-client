{"version":3,"file":"ApiRequestError.js","sources":["../../../src/error/ApiRequestError.ts"],"sourcesContent":["import type { ApiErrorSource, RequestConfig } from \"@/http/types/http\";\n\nexport class ApiRequestError extends Error {\n  status?: number;\n  statusText?: string;\n  data?: unknown;\n  originalError: unknown;\n  requestConfig: RequestConfig;\n\n  constructor (error: unknown, requestConfig: RequestConfig) {\n    const message = error instanceof Error\n      ? error.message\n      : \"API Service Request Failed\";\n\n    super(message);\n    this.name = \"ApiRequestError\";\n    this.originalError = error;\n    this.requestConfig = requestConfig;\n\n    if (error && typeof error === \"object\") {\n      const errorObj = error as ApiErrorSource;\n\n      if (\"status\" in errorObj) {\n        this.status = errorObj.status;\n      }\n      if (\"statusText\" in errorObj) {\n        this.statusText = errorObj.statusText as string;\n      }\n      if (\"data\" in errorObj) {\n        this.data = errorObj.data;\n      }\n      // Si c'est une erreur de fetch (Response)\n      if (\"response\" in errorObj && errorObj.response instanceof Response) {\n        const response = errorObj.response;\n        this.status = response.status;\n        this.statusText = response.statusText;\n      }\n    }\n\n  }\n\n  // MÃ©thodes utilitaires pour vÃ©rifier le type d'erreur\n  isNotFound(): boolean {\n    return this.status === 404;\n  }\n\n  isUnauthorized(): boolean {\n    return this.status === 401;\n  }\n\n  isForbidden(): boolean {\n    return this.status === 403;\n  }\n\n  isServerError(): boolean {\n    return this.status !== undefined && this.status >= 500 && this.status < 600;\n  }\n\n  isNetworkError(): boolean {\n    return this.status === undefined || this.status === 0;\n  }\n}"],"names":[],"mappings":";;;AAEO,MAAM,wBAAwB,MAAM;AAAA,EAOzC,YAAa,OAAgB,eAA8B;AACzD,UAAM,UAAU,iBAAiB,QAC7B,MAAM,UACN;AAEJ,UAAM,OAAO;AAXf;AACA;AACA;AACA;AACA;AAQE,SAAK,OAAO;AACZ,SAAK,gBAAgB;AACrB,SAAK,gBAAgB;AAEjB,QAAA,SAAS,OAAO,UAAU,UAAU;AACtC,YAAM,WAAW;AAEjB,UAAI,YAAY,UAAU;AACxB,aAAK,SAAS,SAAS;AAAA,MAAA;AAEzB,UAAI,gBAAgB,UAAU;AAC5B,aAAK,aAAa,SAAS;AAAA,MAAA;AAE7B,UAAI,UAAU,UAAU;AACtB,aAAK,OAAO,SAAS;AAAA,MAAA;AAGvB,UAAI,cAAc,YAAY,SAAS,oBAAoB,UAAU;AACnE,cAAM,WAAW,SAAS;AAC1B,aAAK,SAAS,SAAS;AACvB,aAAK,aAAa,SAAS;AAAA,MAAA;AAAA,IAC7B;AAAA,EACF;AAAA;AAAA,EAKF,aAAsB;AACpB,WAAO,KAAK,WAAW;AAAA,EAAA;AAAA,EAGzB,iBAA0B;AACxB,WAAO,KAAK,WAAW;AAAA,EAAA;AAAA,EAGzB,cAAuB;AACrB,WAAO,KAAK,WAAW;AAAA,EAAA;AAAA,EAGzB,gBAAyB;AACvB,WAAO,KAAK,WAAW,UAAa,KAAK,UAAU,OAAO,KAAK,SAAS;AAAA,EAAA;AAAA,EAG1E,iBAA0B;AACxB,WAAO,KAAK,WAAW,UAAa,KAAK,WAAW;AAAA,EAAA;AAExD;"}