{"version":3,"file":"HttpError.js","sources":["../../../../src/http/Request/HttpError.ts"],"sourcesContent":["import type { ApiErrorSource, RequestConfig } from \"@/http/types\";\n\nexport class HttpError extends Error {\n  status?: number;\n  statusText?: string;\n  data?: unknown;\n  readonly originalError: unknown;\n  readonly requestConfig: RequestConfig;\n\n  constructor(error: unknown, requestConfig: RequestConfig) {\n    const message =\n      error instanceof Error ? error.message : \"API Service Request Failed\";\n\n    super(message);\n    this.name = \"ApiRequestError\";\n    this.originalError = error;\n    this.requestConfig = requestConfig;\n\n    this.extractErrorDetails(error);\n  }\n\n  private extractErrorDetails(error: unknown): void {\n    if (!error || typeof error !== \"object\") return;\n\n    const errorSource = error as ApiErrorSource;\n\n    this.status = errorSource.status;\n    this.statusText = errorSource.statusText as string;\n    this.data = errorSource.data;\n\n    if (errorSource.response instanceof Response) {\n      const { response } = errorSource;\n      this.status = response.status;\n      this.statusText = response.statusText;\n    }\n  }\n\n  getErrorType(): \"network\" | \"client\" | \"server\" | \"unknown\" {\n    if (this.status === undefined || this.status === 0) {\n      return \"network\";\n    } else if (this.status >= 400 && this.status < 500) {\n      return \"client\";\n    } else if (this.status >= 500) {\n      return \"server\";\n    }\n    return \"unknown\";\n  }\n\n  hasStatus(status: number): boolean {\n    return this.status === status;\n  }\n}\n"],"names":[],"mappings":";;;AAEO,MAAM,kBAAkB,MAAM;AAAA,EAOnC,YAAY,OAAgB,eAA8B;AACxD,UAAM,UACJ,iBAAiB,QAAQ,MAAM,UAAU;AAE3C,UAAM,OAAO;AAVf;AACA;AACA;AACS;AACA;AAOP,SAAK,OAAO;AACZ,SAAK,gBAAgB;AACrB,SAAK,gBAAgB;AAErB,SAAK,oBAAoB,KAAK;AAAA,EAAA;AAAA,EAGxB,oBAAoB,OAAsB;AAChD,QAAI,CAAC,SAAS,OAAO,UAAU,SAAU;AAEzC,UAAM,cAAc;AAEpB,SAAK,SAAS,YAAY;AAC1B,SAAK,aAAa,YAAY;AAC9B,SAAK,OAAO,YAAY;AAEpB,QAAA,YAAY,oBAAoB,UAAU;AACtC,YAAA,EAAE,aAAa;AACrB,WAAK,SAAS,SAAS;AACvB,WAAK,aAAa,SAAS;AAAA,IAAA;AAAA,EAC7B;AAAA,EAGF,eAA4D;AAC1D,QAAI,KAAK,WAAW,UAAa,KAAK,WAAW,GAAG;AAC3C,aAAA;AAAA,IAAA,WACE,KAAK,UAAU,OAAO,KAAK,SAAS,KAAK;AAC3C,aAAA;AAAA,IAAA,WACE,KAAK,UAAU,KAAK;AACtB,aAAA;AAAA,IAAA;AAEF,WAAA;AAAA,EAAA;AAAA,EAGT,UAAU,QAAyB;AACjC,WAAO,KAAK,WAAW;AAAA,EAAA;AAE3B;"}